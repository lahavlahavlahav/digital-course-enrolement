<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LilouBooks - קורס אונליין</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide React icons as inline SVG components
        const Lock = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
        );
        
        const BookOpen = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </svg>
        );
        
        const Clock = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        );
        
        const CheckCircle = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        );
        
        const Play = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
        );
        
        const Video = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="23 7 16 12 23 17 23 7"></polygon>
                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
            </svg>
        );
        
        const FileText = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
        );

        const OnlineCoursePlatform = () => {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [user, setUser] = useState(null);
            const [currentModule, setCurrentModule] = useState(null);
            const [completedLessons, setCompletedLessons] = useState([]);
            const [loginForm, setLoginForm] = useState({ username: '', password: '' });
            const [error, setError] = useState('');

            const courseModules = [
                {
                    id: 1,
                    title: "התחלה: ספרים וכלים",
                    lessons: [
                        { id: 'intro-1', title: 'ברוכים הבאים לקיפול ספרים', type: 'video', duration: '10 דק׳' },
                        { id: 'intro-2', title: 'כיצד לבחור את הספר המושלם', type: 'video', duration: '15 דק׳' },
                        { id: 'intro-3', title: 'כלים חיוניים שתצטרכו', type: 'video', duration: '12 דק׳' }
                    ]
                },
                {
                    id: 2,
                    title: "קריאה והבנת תבניות",
                    lessons: [
                        { id: 'pattern-1', title: 'מהי תבנית קיפול ספרים?', type: 'video', duration: '12 דק׳' },
                        { id: 'pattern-2', title: 'קריאת תבניות MMF', type: 'video', duration: '18 דק׳' },
                        { id: 'pattern-3', title: 'קריאת תבניות גזירה וקיפול', type: 'video', duration: '16 דק׳' }
                    ]
                },
                {
                    id: 3,
                    title: "טכניקת MMF",
                    lessons: [
                        { id: 'mmf-1', title: 'הסבר על טכניקת MMF', type: 'video', duration: '15 דק׳' },
                        { id: 'mmf-2', title: 'כיצד למדוד דפים', type: 'video', duration: '18 דק׳' },
                        { id: 'mmf-3', title: 'סימון הדפים שלכם', type: 'video', duration: '16 דק׳' }
                    ]
                }
            ];

            useEffect(() => {
                if (user) {
                    const accessEnd = new Date(user.accessExpires);
                    const now = new Date();
                    if (now > accessEnd) {
                        setError('הגישה לקורס פגה. אנא צרו קשר לחידוש.');
                        setIsAuthenticated(false);
                        setUser(null);
                    }
                }
            }, [user]);

            const handleLogin = (e) => {
                e.preventDefault();
                setError('');
                
                if (loginForm.username === 'demo' && loginForm.password === 'bookfold123') {
                    const accessExpires = new Date();
                    accessExpires.setDate(accessExpires.getDate() + 12);
                    
                    setUser({
                        username: loginForm.username,
                        accessExpires: accessExpires.toISOString(),
                        enrolled: new Date().toISOString()
                    });
                    setIsAuthenticated(true);
                } else {
                    setError('שם משתמש או סיסמה שגויים');
                }
            };

            const handleLogout = () => {
                setIsAuthenticated(false);
                setUser(null);
                setCurrentModule(null);
                setLoginForm({ username: '', password: '' });
            };

            const markLessonComplete = (lessonId) => {
                if (!completedLessons.includes(lessonId)) {
                    setCompletedLessons([...completedLessons, lessonId]);
                }
            };

            const getDaysRemaining = () => {
                if (!user) return 0;
                const now = new Date();
                const end = new Date(user.accessExpires);
                const diff = end - now;
                return Math.max(0, Math.ceil(diff / (1000 * 60 * 60 * 24)));
            };

            if (!isAuthenticated) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50">
                        <div className="container mx-auto px-4 py-8">
                            <div className="text-center mb-12">
                                <div className="flex items-center justify-center mb-4">
                                    <BookOpen />
                                    <h1 className="text-4xl font-bold text-gray-800 mr-3">LilouBooks</h1>
                                </div>
                                <p className="text-xl text-gray-600">מאסטרי את אמנות קיפול הספרים</p>
                            </div>

                            <div className="max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8">
                                <div className="flex items-center mb-6">
                                    <Lock />
                                    <h2 className="text-2xl font-bold text-gray-800 mr-3">כניסה לקורס</h2>
                                </div>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">שם משתמש</label>
                                        <input
                                            type="text"
                                            value={loginForm.username}
                                            onChange={(e) => setLoginForm({...loginForm, username: e.target.value})}
                                            onKeyDown={(e) => e.key === 'Enter' && handleLogin(e)}
                                            className="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-amber-500 focus:outline-none"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">סיסמה</label>
                                        <input
                                            type="password"
                                            value={loginForm.password}
                                            onChange={(e) => setLoginForm({...loginForm, password: e.target.value})}
                                            onKeyDown={(e) => e.key === 'Enter' && handleLogin(e)}
                                            className="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-amber-500 focus:outline-none"
                                        />
                                    </div>

                                    {error && (
                                        <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                                            {error}
                                        </div>
                                    )}

                                    <button
                                        onClick={handleLogin}
                                        className="w-full bg-gray-800 text-white font-bold py-3 rounded-lg hover:bg-gray-900 transition-colors"
                                    >
                                        כניסה לקורס
                                    </button>
                                </div>

                                <div className="mt-6 p-4 bg-blue-50 rounded-lg">
                                    <p className="text-sm font-semibold text-blue-900 mb-2">גישה לדמו:</p>
                                    <p className="text-sm text-blue-700">שם משתמש: <code className="bg-blue-100 px-2 py-1 rounded">demo</code></p>
                                    <p className="text-sm text-blue-700">סיסמה: <code className="bg-blue-100 px-2 py-1 rounded">bookfold123</code></p>
                                </div>

                                <div className="mt-8 text-center">
                                    <p className="text-gray-600 mb-4">עדיין לא נרשמת?</p>
                                    <a 
                                        href="https://grow.co.il/your-payment-page" 
                                        className="inline-block bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold py-3 px-8 rounded-lg hover:from-amber-700 hover:to-orange-700 transition-all"
                                    >
                                        הירשם עכשיו ב-₪249
                                    </a>
                                    <p className="text-xs text-gray-500 mt-2">12 ימי גישה מלאה</p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg">
                        <div className="container mx-auto px-4 py-4">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center">
                                    <BookOpen />
                                    <div className="mr-3">
                                        <h1 className="text-2xl font-bold">קורס LilouBooks</h1>
                                        <p className="text-sm text-amber-100">שלום, {user.username}!</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-6">
                                    <div className="text-left">
                                        <div className="flex items-center text-amber-100">
                                            <Clock />
                                            <span className="text-sm font-semibold mr-2">{getDaysRemaining()} ימים נותרו</span>
                                        </div>
                                    </div>
                                    <button
                                        onClick={handleLogout}
                                        className="bg-white text-amber-700 px-4 py-2 rounded-lg font-semibold hover:bg-amber-50 transition-colors"
                                    >
                                        יציאה
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="container mx-auto px-4 py-8">
                        <div className="grid lg:grid-cols-3 gap-8">
                            <div className="lg:col-span-1">
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-gray-800 mb-4">מודולים</h2>
                                    <div className="space-y-2">
                                        {courseModules.map((module) => (
                                            <button
                                                key={module.id}
                                                onClick={() => setCurrentModule(module)}
                                                className={`w-full text-right p-4 rounded-lg transition-all ${
                                                    currentModule?.id === module.id
                                                        ? 'bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-md'
                                                        : 'bg-gray-50 hover:bg-gray-100 text-gray-700'
                                                }`}
                                            >
                                                <span className="font-semibold text-sm">מודול {module.id}</span>
                                                <p className="text-sm mt-1">{module.title}</p>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            <div className="lg:col-span-2">
                                {!currentModule ? (
                                    <div className="bg-white rounded-xl shadow-lg p-12 text-center">
                                        <BookOpen />
                                        <h2 className="text-3xl font-bold text-gray-800 mb-4">ברוכים הבאים לקורס!</h2>
                                        <p className="text-gray-600 mb-6">בחרו מודול מהצד כדי להתחיל</p>
                                        <button
                                            onClick={() => setCurrentModule(courseModules[0])}
                                            className="bg-gradient-to-r from-amber-600 to-orange-600 text-white px-8 py-3 rounded-lg font-semibold"
                                        >
                                            התחל עם מודול 1
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-6">
                                        <div className="bg-white rounded-xl shadow-lg p-8">
                                            <h2 className="text-3xl font-bold text-gray-800 mb-2">
                                                מודול {currentModule.id}: {currentModule.title}
                                            </h2>
                                            <p className="text-gray-600">{currentModule.lessons.length} שיעורים</p>
                                        </div>

                                        {currentModule.lessons.map((lesson) => {
                                            const isCompleted = completedLessons.includes(lesson.id);
                                            return (
                                                <div key={lesson.id} className="bg-white rounded-xl shadow-lg p-6">
                                                    <div className="flex items-start justify-between mb-4">
                                                        <div className="flex items-start flex-1">
                                                            {lesson.type === 'video' ? <Video /> : <FileText />}
                                                            <div className="flex-1 mr-3">
                                                                <h3 className="text-xl font-bold text-gray-800 mb-1">{lesson.title}</h3>
                                                                <p className="text-sm text-gray-500">{lesson.duration}</p>
                                                            </div>
                                                        </div>
                                                        {isCompleted && <CheckCircle />}
                                                    </div>

                                                    {lesson.type === 'video' ? (
                                                        <div className="bg-gray-900 rounded-lg aspect-video flex items-center justify-center mb-4">
                                                            <Play />
                                                        </div>
                                                    ) : (
                                                        <div className="bg-gray-50 rounded-lg p-6 mb-4">
                                                            <p className="text-gray-700">תוכן השיעור יופיע כאן</p>
                                                        </div>
                                                    )}

                                                    <button
                                                        onClick={() => markLessonComplete(lesson.id)}
                                                        disabled={isCompleted}
                                                        className={`w-full py-3 rounded-lg font-semibold transition-all ${
                                                            isCompleted
                                                                ? 'bg-green-100 text-green-700 cursor-not-allowed'
                                                                : 'bg-gradient-to-r from-amber-600 to-orange-600 text-white hover:from-amber-700 hover:to-orange-700'
                                                        }`}
                                                    >
                                                        {isCompleted ? 'הושלם ✓' : 'סמן כהושלם'}
                                                    </button>
                                                </div>
                                            );
                                        })}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<OnlineCoursePlatform />);
    </script>
</body>
</html>
